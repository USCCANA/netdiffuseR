% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stats.R
\name{degree_adoption_diagnostic}
\alias{degree_adoption_diagnostic}
\title{Degree and Time of Adoption Diagnostic}
\usage{
degree_adoption_diagnostic(
  graph,
  degree_strategy = c("mean", "first", "last"),
  bootstrap = TRUE,
  R = 1000,
  conf.level = 0.95,
  valued = getOption("diffnet.valued", FALSE),
  toa = NULL,
  t0 = NULL,
  t1 = NULL,
  name = "A diffusion network",
  behavior = "Innovation",
  ...
)
}
\arguments{
\item{graph}{A \code{\link{diffnet}} object or a graph data structure (classes include 
\code{array} (\eqn{n\times n \times T}{n*n*T}), \code{dgCMatrix} (sparse), 
\code{igraph}, etc.; see \link{netdiffuseR-graphs}).}

\item{degree_strategy}{Character scalar. How to aggregate degree measures across
time periods: \code{"mean"} (default), \code{"first"}, or \code{"last"}.}

\item{bootstrap}{Logical scalar. Whether to compute bootstrap confidence intervals.}

\item{R}{Integer scalar. Number of bootstrap replicates (default 1000).}

\item{conf.level}{Numeric scalar. Confidence level for bootstrap intervals (default 0.95).}

\item{valued}{Logical scalar. Whether to use edge weights in degree calculations.}

\item{toa}{Integer vector of length \eqn{n} with time of adoption.
Required when \code{graph} is not a \code{diffnet}.}

\item{t0, t1}{Optional integer scalars defining the first and last observed
periods. If missing and \code{toa} is provided, \code{t0} defaults to 1
and \code{t1} to \code{max(toa, na.rm=TRUE)}.}

\item{name, behavior}{Optional character scalars used only when coercing
inputs into a \code{diffnet} object (passed to \code{new_diffnet}).}

\item{...}{Additional arguments passed on when coercing to \code{diffnet}.}
}
\value{
A list with components:
\item{correlations}{Named numeric vector with correlations between in-degree/out-degree and time of adoption}
\item{bootstrap}{List with bootstrap results when \code{bootstrap = TRUE}, otherwise \code{NULL}}
\item{call}{The matched call}
\item{degree_strategy}{The degree aggregation strategy used}
\item{sample_size}{Number of nodes included in the analysis (excludes non-adopters)}
}
\description{
Analyzes the correlation between in-degree, out-degree, and time of adoption
to identify whether opinion leaders were early adopters (supporters) or late
adopters (opposers).
}
\details{
This diagnostic function computes correlations between degree centrality measures
(in-degree and out-degree) and time of adoption. Positive correlations suggest
that central actors (opinion leaders) adopted early, while negative correlations
suggest they adopted late.

The degree measures can be aggregated across time periods in different ways:
\itemize{
  \item \code{"mean"}: Average degree across all time periods
  \item \code{"first"}: Degree in the first time period
  \item \code{"last"}: Degree in the last time period
}

The function accepts either a ready-to-use \code{diffnet} or generic graph
inputs plus a \code{toa} vector. When needed, inputs are coerced to a
\code{diffnet} via an internal helper

When \code{bootstrap = TRUE}, the function uses the \pkg{boot} package to
compute bootstrap confidence intervals for the correlations. This helps
assess the statistical significance of the observed correlations.
}
\examples{
# Basic usage with Korean Family Planning data
data(kfamilyDiffNet)
# Results show correlations and interpretation
result_basics <- degree_adoption_diagnostic(kfamilyDiffNet, bootstrap = FALSE)
print(result_basics)
print(result_basics$correlations)

# With bootstrap confidence intervals
result_boot <- degree_adoption_diagnostic(kfamilyDiffNet)
print(result_boot)

# Different degree aggregation strategies
result_first <- degree_adoption_diagnostic(kfamilyDiffNet, degree_strategy = "first")
print(result_first)

result_last <- degree_adoption_diagnostic(kfamilyDiffNet, degree_strategy = "last")
print(result_last)

# Using a sparse static adjacency matrix + toa -----------------------------
\dontrun{
library(Matrix)
set.seed(1)
A <- rsparsematrix(50, 50, 0.05); A <- abs(A); A@x[A@x>0] <- 1
toa <- sample(1:6, 50, replace = TRUE)
diag2 <- degree_adoption_diagnostic(A, toa = toa, valued = FALSE)
}

}
\seealso{
\code{\link{dgr}}, \code{\link{diffreg}}, \code{\link{exposure}}

Other statistics: 
\code{\link{bass}},
\code{\link{classify_adopters}()},
\code{\link{cumulative_adopt_count}()},
\code{\link{dgr}()},
\code{\link{ego_variance}()},
\code{\link{exposure}()},
\code{\link{hazard_rate}()},
\code{\link{infection}()},
\code{\link{moran}()},
\code{\link{struct_equiv}()},
\code{\link{threshold}()},
\code{\link{vertex_covariate_dist}()}
}
\concept{statistics}
