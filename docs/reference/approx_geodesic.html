<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Approximate Geodesic Distances — approx_geodesic • netdiffuseR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Approximate Geodesic Distances — approx_geodesic" />

<meta property="og:description" content="Computes approximate geodesic distance matrix using graph powers and keeping
the amount of memory used low." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netdiffuseR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/analyzing-medical-innovation-data.html">netdiffuseR showcase: Medical Innovations</a>
    </li>
    <li>
      <a href="../articles/introduction-to-netdiffuser.html">Simulating diffusion networks: Using the `rdiffnet` function</a>
    </li>
    <li>
      <a href="../articles/not-lost-in-translation-importing-and-exporting-graphs.html">Not-Lost in translation: Getting diffusion data into netdiffuseR</a>
    </li>
    <li>
      <a href="../articles/time_discount_suscep_infect.html">Time Discounted Infection and Susceptibility</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCCANA/netdiffuseR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Approximate Geodesic Distances</h1>
    <small class="dont-index">Source: <a href='https://github.com/USCCANA/netdiffuseR/blob/master/R/adjmat.r'><code>R/adjmat.r</code></a></small>
    <div class="hidden name"><code>approx_geodesic.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Computes approximate geodesic distance matrix using graph powers and keeping
the amount of memory used low.</p>
    
    </div>

    <pre class="usage"><span class='fu'>approx_geodesic</span>(<span class='no'>graph</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>6L</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>approx_geodist</span>(<span class='no'>graph</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>6L</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>graph</th>
      <td><p>Any class of accepted graph format (see <code><a href='netdiffuseR-graphs.html'>netdiffuseR-graphs</a></code>).</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Integer scalar. Degree of approximation. Bigger values increase
precision (see details).</p></td>
    </tr>
    <tr>
      <th>warn</th>
      <td><p>Logical scalar. When <code>TRUE</code>, it warns if the algorithm
performs less steps than required.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A sparse matrix of class <code><a href='http://www.rdocumentation.org/packages/Matrix/topics/dgCMatrix-class'>dgCMatrix</a></code> of size
<code>nnodes(graph)^2</code> with geodesic distances up to <code>n</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>While both <span class="pkg">igraph</span> and <span class="pkg">sna</span> offer very good and computationally
efficient routines for computing geodesic distances, both functions return
dense matrices, i.e. not sparse, which can be troublesome. Furthermore,
from the perspective of social network analysis, path lengths of more than 6 steps,
for example, may not be meaningful, or at least, relevant for the researcher.
In such cases, <code>approx_geodesic</code> serves as a solution to this problem,
computing geodesics up to the number of steps, <code>n</code>, desired, hence,
if <code>n = 6</code>, once the algorithm finds all paths of 6 or less steps it
will stop, returning a sparse matrix with zeros for those pairs of
vertices for which it was not able to find a path with less than <code>n</code>
steps.</p>
<p>Depending on the graph size and density, <code>approx_geodesic</code>'s performance
can be compared to that of <code><a href='http://www.rdocumentation.org/packages/sna/topics/geodist'>sna::geodist</a></code>. Although,
as <code>n</code> increases, <code>geodist</code> becomes a better alternative.</p>
<p>The algorithm was implemented using power graphs. At each itereation i the
power graph of order <code>i</code> is computed, and its values are compared
to the current values of the geodesic matrix (which is initialized in zero).</p>
<ol>
<li><p>Initialize the output <code>ans(n, n)</code></p></li>
<li><p>For <code>i=1</code> to <code>i &lt; n</code> do</p><ol>
<li><p>Iterate through the edges of <code>G^i</code>, if <code>ans</code> has a zero
  value in the corresponding row+column, replace it with <code>i</code></p></li>
<li><p>next</p></li>
</ol></li>
<li><p>Replace all diagonal elements with a zero and return.</p></li>
</ol>
    <p>This implementation can be more memory efficient that the aforementioned ones,
but at the same time it can be significant slower.</p>
<p><code>approx_geodist</code> is just an allias for <code>approx_geodesic</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># A very simple example -----------------------------------------------------</span>
<span class='no'>g</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ring_lattice.html'>ring_lattice</a></span>(<span class='fl'>10</span>, <span class='fl'>3</span>)
<span class='fu'>approx_geodesic</span>(<span class='no'>g</span>, <span class='fl'>6</span>)</div><div class='output co'>#&gt; 10 x 10 sparse Matrix of class "dgCMatrix"
#&gt;                          
#&gt;  [1,] . 1 1 1 2 2 2 3 3 3
#&gt;  [2,] 3 . 1 1 1 2 2 2 3 3
#&gt;  [3,] 3 3 . 1 1 1 2 2 2 3
#&gt;  [4,] 3 3 3 . 1 1 1 2 2 2
#&gt;  [5,] 2 3 3 3 . 1 1 1 2 2
#&gt;  [6,] 2 2 3 3 3 . 1 1 1 2
#&gt;  [7,] 2 2 2 3 3 3 . 1 1 1
#&gt;  [8,] 1 2 2 2 3 3 3 . 1 1
#&gt;  [9,] 1 1 2 2 2 3 3 3 . 1
#&gt; [10,] 1 1 1 2 2 2 3 3 3 .</div><div class='input'><span class='kw pkg'>sna</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/sna/topics/geodist'>geodist</a></span>(<span class='fu'>as.matrix</span>(<span class='no'>g</span>))<span class='kw'>[[</span><span class='fl'>2</span>]]</div><div class='output co'>#&gt;       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
#&gt;  [1,]    0    1    1    1    2    2    2    3    3     3
#&gt;  [2,]    3    0    1    1    1    2    2    2    3     3
#&gt;  [3,]    3    3    0    1    1    1    2    2    2     3
#&gt;  [4,]    3    3    3    0    1    1    1    2    2     2
#&gt;  [5,]    2    3    3    3    0    1    1    1    2     2
#&gt;  [6,]    2    2    3    3    3    0    1    1    1     2
#&gt;  [7,]    2    2    2    3    3    3    0    1    1     1
#&gt;  [8,]    1    2    2    2    3    3    3    0    1     1
#&gt;  [9,]    1    1    2    2    2    3    3    3    0     1
#&gt; [10,]    1    1    1    2    2    2    3    3    3     0</div><div class='input'><span class='kw pkg'>igraph</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/igraph/topics/distances'>distances</a></span>(
  <span class='kw pkg'>igraph</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/igraph/topics/graph_from_adjacency_matrix'>graph_from_adjacency_matrix</a></span>(<span class='no'>g</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"directed"</span>),
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"out"</span>
)</div><div class='output co'>#&gt;       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
#&gt;  [1,]    0    1    1    1    2    2    2    3    3     3
#&gt;  [2,]    3    0    1    1    1    2    2    2    3     3
#&gt;  [3,]    3    3    0    1    1    1    2    2    2     3
#&gt;  [4,]    3    3    3    0    1    1    1    2    2     2
#&gt;  [5,]    2    3    3    3    0    1    1    1    2     2
#&gt;  [6,]    2    2    3    3    3    0    1    1    1     2
#&gt;  [7,]    2    2    2    3    3    3    0    1    1     1
#&gt;  [8,]    1    2    2    2    3    3    3    0    1     1
#&gt;  [9,]    1    1    2    2    2    3    3    3    0     1
#&gt; [10,]    1    1    1    2    2    2    3    3    3     0</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by George Vega Yon, Thomas Valente.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

